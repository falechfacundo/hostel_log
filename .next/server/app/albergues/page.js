(()=>{var e={};e.id=226,e.ids=[226],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},5315:e=>{"use strict";e.exports=require("path")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},8527:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(1767),r(6773),r(5866);var a=r(3191),s=r(8716),n=r(7922),l=r.n(n),o=r(5231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let d=["",{children:["albergues",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1767)),"C:\\Users\\Faia Facundo\\Desktop\\Programacion\\proyectos_workana\\hostel_log-main\\src\\app\\albergues\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,6773)),"C:\\Users\\Faia Facundo\\Desktop\\Programacion\\proyectos_workana\\hostel_log-main\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Faia Facundo\\Desktop\\Programacion\\proyectos_workana\\hostel_log-main\\src\\app\\albergues\\page.jsx"],u="/albergues/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/albergues/page",pathname:"/albergues",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5030:(e,t,r)=>{let a={"037b7e861bc6ea420d66cf150cb69da0c518156f":()=>Promise.resolve().then(r.bind(r,1986)).then(e=>e.addHostel),"229fa677a20f148a8603de39dd9331cee94983bf":()=>Promise.resolve().then(r.bind(r,1986)).then(e=>e.fetchHostels),"6dd04356cf656044f11609b065047b9f93a65df9":()=>Promise.resolve().then(r.bind(r,1986)).then(e=>e.updateHostel),f55caeec1617cf79b9f2eb056e11463b8cbb4a02:()=>Promise.resolve().then(r.bind(r,1986)).then(e=>e.deleteHostel),"721ba0f507080d5e5d2fa0817fe34b2e284f36f7":()=>Promise.resolve().then(r.bind(r,7570)).then(e=>e.createPartner),dbf92610f26438a90ecfd4062645c3ead5ee2e29:()=>Promise.resolve().then(r.bind(r,7570)).then(e=>e.fetchPartnersByDate),dc989150d3e40f12b62d32b1d4696ce7e25131ba:()=>Promise.resolve().then(r.bind(r,7570)).then(e=>e.deletePartner)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"037b7e861bc6ea420d66cf150cb69da0c518156f":s.bind(null,"037b7e861bc6ea420d66cf150cb69da0c518156f"),"229fa677a20f148a8603de39dd9331cee94983bf":s.bind(null,"229fa677a20f148a8603de39dd9331cee94983bf"),"6dd04356cf656044f11609b065047b9f93a65df9":s.bind(null,"6dd04356cf656044f11609b065047b9f93a65df9"),f55caeec1617cf79b9f2eb056e11463b8cbb4a02:s.bind(null,"f55caeec1617cf79b9f2eb056e11463b8cbb4a02"),"721ba0f507080d5e5d2fa0817fe34b2e284f36f7":s.bind(null,"721ba0f507080d5e5d2fa0817fe34b2e284f36f7"),dbf92610f26438a90ecfd4062645c3ead5ee2e29:s.bind(null,"dbf92610f26438a90ecfd4062645c3ead5ee2e29"),dc989150d3e40f12b62d32b1d4696ce7e25131ba:s.bind(null,"dc989150d3e40f12b62d32b1d4696ce7e25131ba")}},6829:(e,t,r)=>{Promise.resolve().then(r.bind(r,7721))},2933:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(2881).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7721:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>tt});var a=r(326),s=r(9613),n=r(7577),l=r(1805),o=r(809),i=r(1561),d=r(3855),c=r(2881);let u=(0,c.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),p=(0,c.Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var m=r(4389),f=r(8408),h=r(2867),x=r(5999);let g=(0,f.U)((e,t)=>({rooms:{},isLoading:!1,error:null,fetchRoomsByHostel:async t=>{if(!t)return[];try{e(e=>({isLoading:!0,error:null,rooms:{...e.rooms}}));let{data:r,error:a}=await h.O.from("rooms").select("*").eq("hostel_id",t);if(a)throw Error(`Error fetching rooms: ${a.message}`);return e(e=>({rooms:{...e.rooms,[t]:r||[]},isLoading:!1})),r||[]}catch(t){throw console.error("Error in fetchRoomsByHostel:",t),e({error:t.message,isLoading:!1}),t}},addRoom:async(r,a,s)=>{try{if((t().rooms[r]||[]).reduce((e,t)=>e+(t.capacity||0),0)+a.capacity>s)throw Error(`La capacidad total de las habitaciones exceder\xeda el l\xedmite del albergue (${s} personas)`);e({isLoading:!0,error:null});let{data:n,error:l}=await h.O.from("rooms").insert([{...a,hostel_id:r}]).select().single();if(l)throw Error(`Error creating room: ${l.message}`);return e(e=>{let t=e.rooms[r]||[];return{rooms:{...e.rooms,[r]:[...t,n]},isLoading:!1}}),n}catch(t){throw console.error("Error in addRoom:",t),e({error:t.message,isLoading:!1}),x.A.error(`Error al crear habitaci\xf3n: ${t.message}`),t}},updateRoom:async(t,r)=>{try{e({isLoading:!0,error:null});let{data:a,error:s}=await h.O.from("rooms").update(r).eq("id",t).select().single();if(s)throw Error(`Error updating room: ${s.message}`);return e(e=>{let r=a.hostel_id,s=e.rooms[r]||[];return{rooms:{...e.rooms,[r]:s.map(e=>e.id===t?a:e)},isLoading:!1}}),a}catch(t){throw console.error("Error in updateRoom:",t),e({error:t.message,isLoading:!1}),x.A.error(`Error al actualizar habitaci\xf3n: ${t.message}`),t}},deleteRoom:async(t,r)=>{try{e({isLoading:!0,error:null});let{error:a}=await h.O.from("rooms").delete().eq("id",r);if(a)throw Error(`Error deleting room: ${a.message}`);return e(e=>{let a=e.rooms[t]||[];return{rooms:{...e.rooms,[t]:a.filter(e=>e.id!==r)},isLoading:!1}}),{id:r}}catch(t){throw console.error("Error in deleteRoom:",t),e({error:t.message,isLoading:!1}),x.A.error(`Error al eliminar habitaci\xf3n: ${t.message}`),t}},getRoomsByHostel:e=>t().rooms[e]||[],resetError:()=>e({error:null})})),v=(0,c.Z)("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);var b=r(8091);function y({rooms:e=[],onDeleteRoom:t}){return e.length?a.jsx("div",{className:"flex flex-wrap gap-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-8 bg-gray-50 p-2 rounded w-full justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(v,{className:"h-4 w-4 mr-2 text-gray-500"}),a.jsx("span",{children:e.name})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[e.capacity," personas"]}),a.jsx(i.z,{variant:"ghost",size:"icon",onClick:()=>{t(e.id)},children:a.jsx(b.Z,{className:"h-4 w-4 text-red-500"})})]})]},e.id))}):a.jsx("div",{className:"text-center text-gray-500 py-4",children:"No hay habitaciones creadas"})}var w=r(5188);function j({onAddRoom:e}){let[t,r]=(0,n.useState)({name:"",capacity:""});return(0,a.jsxs)("div",{className:"flex gap-2 mt-4",children:[a.jsx(w.I,{placeholder:"Capacidad",type:"number",value:t.capacity,onChange:e=>r({...t,capacity:e.target.value}),className:"w-24"}),a.jsx(i.z,{onClick:()=>{if(!t.capacity){x.A.error("Por favor complete todos los campos");return}e({capacity:parseInt(t.capacity)}),r({name:"",capacity:""})},variant:"outline",children:a.jsx(d.Z,{className:"h-4 w-4"})})]})}let N=(0,c.Z)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);function C({hostel:e,onDelete:t}){return(0,a.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:"flex gap-8 items-center",children:a.jsx("h3",{className:"text-xl font-semibold leading-6 p-0",children:e.name})}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(i.z,{variant:"ghost",size:"icon",children:a.jsx(N,{className:"h-4 w-4"})}),a.jsx(i.z,{variant:"ghost",size:"icon",onClick:()=>t(e.id),children:a.jsx(b.Z,{className:"h-4 w-4 text-red-500"})})]})]})}function S({hostel:e,activeHostelId:t,setActiveHostelId:r,date:s,assignments:n=[]}){let{deleteHostel:l}=(0,m._)(),{getRoomsByHostel:c,fetchRoomsByHostel:u,addRoom:p,deleteRoom:f}=g(),h=c(e.id)||[],x=h.reduce((e,t)=>e+(t.capacity||0),0),v=e.capacity-x;return(0,a.jsxs)(o.Zb,{className:"p-6",children:[a.jsx(C,{hostel:e,onDelete:l}),(0,a.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,a.jsxs)("div",{className:"justify-start space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Habitaciones"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Capacidad: ",x,"/",e.capacity," (",v," ","disponibles)"]}),a.jsx(y,{rooms:h,onDeleteRoom:t=>f(e.id,t)})]}),t===e.id?a.jsx(j,{onAddRoom:t=>{p(e.id,t,e.capacity),r(null)},maxCapacity:v}):(0,a.jsxs)(i.z,{variant:"outline",className:"w-full mt-4",onClick:()=>r(e.id),disabled:v<=0,children:[a.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Agregar Habitaci\xf3n"]})]})]})}function k({icon:e,title:t,description:r}){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-gray-100",children:e}),a.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:t}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:r})]})}var M=r(962);function P(e,[t,r]){return Math.min(r,Math.max(t,e))}var R=r(2561),E=r(3095),_=r(8051),A=r(4214),T=n.createContext(void 0),D=r(825),I=r(699),L=r(441),H=r(8957),z=r(7103),V=r(2713),Z=r(5226),q=r(5049),O=r(2067),F=r(5819),B=r(3405),W=r(6009),K=r(5664),U=r(8260),$=[" ","Enter","ArrowUp","ArrowDown"],G=[" ","Enter"],X="Select",[Y,J,Q]=function(e){let t=e+"CollectionProvider",[r,s]=(0,E.b)(t),[l,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=e=>{let{scope:t,children:r}=e,s=n.useRef(null),o=n.useRef(new Map).current;return(0,a.jsx)(l,{scope:t,itemMap:o,collectionRef:s,children:r})};i.displayName=t;let d=e+"CollectionSlot",c=n.forwardRef((e,t)=>{let{scope:r,children:s}=e,n=o(d,r),l=(0,_.e)(t,n.collectionRef);return(0,a.jsx)(A.g7,{ref:l,children:s})});c.displayName=d;let u=e+"CollectionItemSlot",p="data-radix-collection-item",m=n.forwardRef((e,t)=>{let{scope:r,children:s,...l}=e,i=n.useRef(null),d=(0,_.e)(t,i),c=o(u,r);return n.useEffect(()=>(c.itemMap.set(i,{ref:i,...l}),()=>void c.itemMap.delete(i))),(0,a.jsx)(A.g7,{[p]:"",ref:d,children:s})});return m.displayName=u,[{Provider:i,Slot:c,ItemSlot:m},function(t){let r=o(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${p}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},s]}(X),[ee,et]=(0,E.b)(X,[Q,z.D7]),er=(0,z.D7)(),[ea,es]=ee(X),[en,el]=ee(X),eo=e=>{let{__scopeSelect:t,children:r,open:s,defaultOpen:l,onOpenChange:o,value:i,defaultValue:d,onValueChange:c,dir:u,name:p,autoComplete:m,disabled:f,required:h,form:x}=e,g=er(t),[v,b]=n.useState(null),[y,w]=n.useState(null),[j,N]=n.useState(!1),C=function(e){let t=n.useContext(T);return e||t||"ltr"}(u),[S=!1,k]=(0,O.T)({prop:s,defaultProp:l,onChange:o}),[M,P]=(0,O.T)({prop:i,defaultProp:d,onChange:c}),R=n.useRef(null),E=!v||x||!!v.closest("form"),[_,A]=n.useState(new Set),D=Array.from(_).map(e=>e.props.value).join(";");return(0,a.jsx)(z.fC,{...g,children:(0,a.jsxs)(ea,{required:h,scope:t,trigger:v,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:(0,H.M)(),value:M,onValueChange:P,open:S,onOpenChange:k,dir:C,triggerPointerDownPosRef:R,disabled:f,children:[(0,a.jsx)(Y.Provider,{scope:t,children:(0,a.jsx)(en,{scope:e.__scopeSelect,onNativeOptionAdd:n.useCallback(e=>{A(t=>new Set(t).add(e))},[]),onNativeOptionRemove:n.useCallback(e=>{A(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:r})}),E?(0,a.jsxs)(eK,{"aria-hidden":!0,required:h,tabIndex:-1,name:p,autoComplete:m,value:M,onChange:e=>P(e.target.value),disabled:f,form:x,children:[void 0===M?(0,a.jsx)("option",{value:""}):null,Array.from(_)]},D):null]})})};eo.displayName=X;var ei="SelectTrigger",ed=n.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:s=!1,...l}=e,o=er(r),i=es(ei,r),d=i.disabled||s,c=(0,_.e)(t,i.onTriggerChange),u=J(r),p=n.useRef("touch"),[m,f,h]=eU(e=>{let t=u().filter(e=>!e.disabled),r=t.find(e=>e.value===i.value),a=e$(t,e,r);void 0!==a&&i.onValueChange(a.value)}),x=e=>{d||(i.onOpenChange(!0),h()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,a.jsx)(z.ee,{asChild:!0,...o,children:(0,a.jsx)(Z.WV.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":eW(i.value)?"":void 0,...l,ref:c,onClick:(0,R.M)(l.onClick,e=>{e.currentTarget.focus(),"mouse"!==p.current&&x(e)}),onPointerDown:(0,R.M)(l.onPointerDown,e=>{p.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(x(e),e.preventDefault())}),onKeyDown:(0,R.M)(l.onKeyDown,e=>{let t=""!==m.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),(!t||" "!==e.key)&&$.includes(e.key)&&(x(),e.preventDefault())})})})});ed.displayName=ei;var ec="SelectValue",eu=n.forwardRef((e,t)=>{let{__scopeSelect:r,className:s,style:n,children:l,placeholder:o="",...i}=e,d=es(ec,r),{onValueNodeHasChildrenChange:c}=d,u=void 0!==l,p=(0,_.e)(t,d.onValueNodeChange);return(0,F.b)(()=>{c(u)},[c,u]),(0,a.jsx)(Z.WV.span,{...i,ref:p,style:{pointerEvents:"none"},children:eW(d.value)?(0,a.jsx)(a.Fragment,{children:o}):l})});eu.displayName=ec;var ep=n.forwardRef((e,t)=>{let{__scopeSelect:r,children:s,...n}=e;return(0,a.jsx)(Z.WV.span,{"aria-hidden":!0,...n,ref:t,children:s||"â–¼"})});ep.displayName="SelectIcon";var em=e=>(0,a.jsx)(V.h,{asChild:!0,...e});em.displayName="SelectPortal";var ef="SelectContent",eh=n.forwardRef((e,t)=>{let r=es(ef,e.__scopeSelect),[s,l]=n.useState();return((0,F.b)(()=>{l(new DocumentFragment)},[]),r.open)?(0,a.jsx)(ev,{...e,ref:t}):s?M.createPortal((0,a.jsx)(ex,{scope:e.__scopeSelect,children:(0,a.jsx)(Y.Slot,{scope:e.__scopeSelect,children:(0,a.jsx)("div",{children:e.children})})}),s):null});eh.displayName=ef;var[ex,eg]=ee(ef),ev=n.forwardRef((e,t)=>{let{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:o,onPointerDownOutside:i,side:d,sideOffset:c,align:u,alignOffset:p,arrowPadding:m,collisionBoundary:f,collisionPadding:h,sticky:x,hideWhenDetached:g,avoidCollisions:v,...b}=e,y=es(ef,r),[w,j]=n.useState(null),[N,C]=n.useState(null),S=(0,_.e)(t,e=>j(e)),[k,M]=n.useState(null),[P,E]=n.useState(null),T=J(r),[H,z]=n.useState(!1),V=n.useRef(!1);n.useEffect(()=>{if(w)return(0,K.Ry)(w)},[w]),(0,I.EW)();let Z=n.useCallback(e=>{let[t,...r]=T().map(e=>e.ref.current),[a]=r.slice(-1),s=document.activeElement;for(let r of e)if(r===s||(r?.scrollIntoView({block:"nearest"}),r===t&&N&&(N.scrollTop=0),r===a&&N&&(N.scrollTop=N.scrollHeight),r?.focus(),document.activeElement!==s))return},[T,N]),q=n.useCallback(()=>Z([k,w]),[Z,k,w]);n.useEffect(()=>{H&&q()},[H,q]);let{onOpenChange:O,triggerPointerDownPosRef:F}=y;n.useEffect(()=>{if(w){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(F.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():w.contains(r.target)||O(!1),document.removeEventListener("pointermove",t),F.current=null};return null!==F.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[w,O,F]),n.useEffect(()=>{let e=()=>O(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[O]);let[B,W]=eU(e=>{let t=T().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),a=e$(t,e,r);a&&setTimeout(()=>a.ref.current.focus())}),$=n.useCallback((e,t,r)=>{let a=!V.current&&!r;(void 0!==y.value&&y.value===t||a)&&(M(e),a&&(V.current=!0))},[y.value]),G=n.useCallback(()=>w?.focus(),[w]),X=n.useCallback((e,t,r)=>{let a=!V.current&&!r;(void 0!==y.value&&y.value===t||a)&&E(e)},[y.value]),Y="popper"===s?ey:eb,Q=Y===ey?{side:d,sideOffset:c,align:u,alignOffset:p,arrowPadding:m,collisionBoundary:f,collisionPadding:h,sticky:x,hideWhenDetached:g,avoidCollisions:v}:{};return(0,a.jsx)(ex,{scope:r,content:w,viewport:N,onViewportChange:C,itemRefCallback:$,selectedItem:k,onItemLeave:G,itemTextRefCallback:X,focusSelectedItem:q,selectedItemText:P,position:s,isPositioned:H,searchRef:B,children:(0,a.jsx)(U.Z,{as:A.g7,allowPinchZoom:!0,children:(0,a.jsx)(L.M,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,R.M)(l,e=>{y.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,a.jsx)(D.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:(0,a.jsx)(Y,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...b,...Q,onPlaced:()=>z(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:(0,R.M)(b.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||W(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=T().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,a=t.indexOf(r);t=t.slice(a+1)}setTimeout(()=>Z(t)),e.preventDefault()}})})})})})})});ev.displayName="SelectContentImpl";var eb=n.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:s,...l}=e,o=es(ef,r),i=eg(ef,r),[d,c]=n.useState(null),[u,p]=n.useState(null),m=(0,_.e)(t,e=>p(e)),f=J(r),h=n.useRef(!1),x=n.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:y}=i,w=n.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&u&&g&&v&&b){let e=o.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),r=o.valueNode.getBoundingClientRect(),a=b.getBoundingClientRect();if("rtl"!==o.dir){let s=a.left-t.left,n=r.left-s,l=e.left-n,o=e.width+l,i=Math.max(o,t.width),c=P(n,[10,Math.max(10,window.innerWidth-10-i)]);d.style.minWidth=o+"px",d.style.left=c+"px"}else{let s=t.right-a.right,n=window.innerWidth-r.right-s,l=window.innerWidth-e.right-n,o=e.width+l,i=Math.max(o,t.width),c=P(n,[10,Math.max(10,window.innerWidth-10-i)]);d.style.minWidth=o+"px",d.style.right=c+"px"}let n=f(),l=window.innerHeight-20,i=g.scrollHeight,c=window.getComputedStyle(u),p=parseInt(c.borderTopWidth,10),m=parseInt(c.paddingTop,10),x=parseInt(c.borderBottomWidth,10),y=p+m+i+parseInt(c.paddingBottom,10)+x,w=Math.min(5*v.offsetHeight,y),j=window.getComputedStyle(g),N=parseInt(j.paddingTop,10),C=parseInt(j.paddingBottom,10),S=e.top+e.height/2-10,k=v.offsetHeight/2,M=p+m+(v.offsetTop+k);if(M<=S){let e=n.length>0&&v===n[n.length-1].ref.current;d.style.bottom="0px";let t=u.clientHeight-g.offsetTop-g.offsetHeight;d.style.height=M+Math.max(l-S,k+(e?C:0)+t+x)+"px"}else{let e=n.length>0&&v===n[0].ref.current;d.style.top="0px";let t=Math.max(S,p+g.offsetTop+(e?N:0)+k);d.style.height=t+(y-M)+"px",g.scrollTop=M-S+g.offsetTop}d.style.margin="10px 0",d.style.minHeight=w+"px",d.style.maxHeight=l+"px",s?.(),requestAnimationFrame(()=>h.current=!0)}},[f,o.trigger,o.valueNode,d,u,g,v,b,o.dir,s]);(0,F.b)(()=>w(),[w]);let[j,N]=n.useState();(0,F.b)(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);let C=n.useCallback(e=>{e&&!0===x.current&&(w(),y?.(),x.current=!1)},[w,y]);return(0,a.jsx)(ew,{scope:r,contentWrapper:d,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:(0,a.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:(0,a.jsx)(Z.WV.div,{...l,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...l.style}})})})});eb.displayName="SelectItemAlignedPosition";var ey=n.forwardRef((e,t)=>{let{__scopeSelect:r,align:s="start",collisionPadding:n=10,...l}=e,o=er(r);return(0,a.jsx)(z.VY,{...o,...l,ref:t,align:s,collisionPadding:n,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ey.displayName="SelectPopperPosition";var[ew,ej]=ee(ef,{}),eN="SelectViewport",eC=n.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:s,...l}=e,o=eg(eN,r),i=ej(eN,r),d=(0,_.e)(t,o.onViewportChange),c=n.useRef(0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,a.jsx)(Y.Slot,{scope:r,children:(0,a.jsx)(Z.WV.div,{"data-radix-select-viewport":"",role:"presentation",...l,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...l.style},onScroll:(0,R.M)(l.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:a}=i;if(a?.current&&r){let e=Math.abs(c.current-t.scrollTop);if(e>0){let a=window.innerHeight-20,s=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(s<a){let n=s+e,l=Math.min(a,n),o=n-l;r.style.height=l+"px","0px"===r.style.bottom&&(t.scrollTop=o>0?o:0,r.style.justifyContent="flex-end")}}}c.current=t.scrollTop})})})]})});eC.displayName=eN;var eS="SelectGroup",[ek,eM]=ee(eS);n.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e,n=(0,H.M)();return(0,a.jsx)(ek,{scope:r,id:n,children:(0,a.jsx)(Z.WV.div,{role:"group","aria-labelledby":n,...s,ref:t})})}).displayName=eS;var eP="SelectLabel",eR=n.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e,n=eM(eP,r);return(0,a.jsx)(Z.WV.div,{id:n.id,...s,ref:t})});eR.displayName=eP;var eE="SelectItem",[e_,eA]=ee(eE),eT=n.forwardRef((e,t)=>{let{__scopeSelect:r,value:s,disabled:l=!1,textValue:o,...i}=e,d=es(eE,r),c=eg(eE,r),u=d.value===s,[p,m]=n.useState(o??""),[f,h]=n.useState(!1),x=(0,_.e)(t,e=>c.itemRefCallback?.(e,s,l)),g=(0,H.M)(),v=n.useRef("touch"),b=()=>{l||(d.onValueChange(s),d.onOpenChange(!1))};if(""===s)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,a.jsx)(e_,{scope:r,value:s,disabled:l,textId:g,isSelected:u,onItemTextChange:n.useCallback(e=>{m(t=>t||(e?.textContent??"").trim())},[]),children:(0,a.jsx)(Y.ItemSlot,{scope:r,value:s,disabled:l,textValue:p,children:(0,a.jsx)(Z.WV.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":l||void 0,"data-disabled":l?"":void 0,tabIndex:l?void 0:-1,...i,ref:x,onFocus:(0,R.M)(i.onFocus,()=>h(!0)),onBlur:(0,R.M)(i.onBlur,()=>h(!1)),onClick:(0,R.M)(i.onClick,()=>{"mouse"!==v.current&&b()}),onPointerUp:(0,R.M)(i.onPointerUp,()=>{"mouse"===v.current&&b()}),onPointerDown:(0,R.M)(i.onPointerDown,e=>{v.current=e.pointerType}),onPointerMove:(0,R.M)(i.onPointerMove,e=>{v.current=e.pointerType,l?c.onItemLeave?.():"mouse"===v.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,R.M)(i.onPointerLeave,e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:(0,R.M)(i.onKeyDown,e=>{c.searchRef?.current!==""&&" "===e.key||(G.includes(e.key)&&b()," "===e.key&&e.preventDefault())})})})})});eT.displayName=eE;var eD="SelectItemText",eI=n.forwardRef((e,t)=>{let{__scopeSelect:r,className:s,style:l,...o}=e,i=es(eD,r),d=eg(eD,r),c=eA(eD,r),u=el(eD,r),[p,m]=n.useState(null),f=(0,_.e)(t,e=>m(e),c.onItemTextChange,e=>d.itemTextRefCallback?.(e,c.value,c.disabled)),h=p?.textContent,x=n.useMemo(()=>(0,a.jsx)("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return(0,F.b)(()=>(g(x),()=>v(x)),[g,v,x]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.WV.span,{id:c.textId,...o,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?M.createPortal(o.children,i.valueNode):null]})});eI.displayName=eD;var eL="SelectItemIndicator",eH=n.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e;return eA(eL,r).isSelected?(0,a.jsx)(Z.WV.span,{"aria-hidden":!0,...s,ref:t}):null});eH.displayName=eL;var ez="SelectScrollUpButton",eV=n.forwardRef((e,t)=>{let r=eg(ez,e.__scopeSelect),s=ej(ez,e.__scopeSelect),[l,o]=n.useState(!1),i=(0,_.e)(t,s.onScrollButtonChange);return(0,F.b)(()=>{if(r.viewport&&r.isPositioned){let e=function(){o(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),l?(0,a.jsx)(eO,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});eV.displayName=ez;var eZ="SelectScrollDownButton",eq=n.forwardRef((e,t)=>{let r=eg(eZ,e.__scopeSelect),s=ej(eZ,e.__scopeSelect),[l,o]=n.useState(!1),i=(0,_.e)(t,s.onScrollButtonChange);return(0,F.b)(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;o(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),l?(0,a.jsx)(eO,{...e,ref:i,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});eq.displayName=eZ;var eO=n.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:s,...l}=e,o=eg("SelectScrollButton",r),i=n.useRef(null),d=J(r),c=n.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return n.useEffect(()=>()=>c(),[c]),(0,F.b)(()=>{let e=d().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[d]),(0,a.jsx)(Z.WV.div,{"aria-hidden":!0,...l,ref:t,style:{flexShrink:0,...l.style},onPointerDown:(0,R.M)(l.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(s,50))}),onPointerMove:(0,R.M)(l.onPointerMove,()=>{o.onItemLeave?.(),null===i.current&&(i.current=window.setInterval(s,50))}),onPointerLeave:(0,R.M)(l.onPointerLeave,()=>{c()})})}),eF=n.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e;return(0,a.jsx)(Z.WV.div,{"aria-hidden":!0,...s,ref:t})});eF.displayName="SelectSeparator";var eB="SelectArrow";function eW(e){return""===e||void 0===e}n.forwardRef((e,t)=>{let{__scopeSelect:r,...s}=e,n=er(r),l=es(eB,r),o=eg(eB,r);return l.open&&"popper"===o.position?(0,a.jsx)(z.Eh,{...n,...s,ref:t}):null}).displayName=eB;var eK=n.forwardRef((e,t)=>{let{value:r,...s}=e,l=n.useRef(null),o=(0,_.e)(t,l),i=(0,B.D)(r);return n.useEffect(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(i!==r&&t){let a=new Event("change",{bubbles:!0});t.call(e,r),e.dispatchEvent(a)}},[i,r]),(0,a.jsx)(W.T,{asChild:!0,children:(0,a.jsx)("select",{...s,ref:o,defaultValue:r})})});function eU(e){let t=(0,q.W)(e),r=n.useRef(""),a=n.useRef(0),s=n.useCallback(e=>{let s=r.current+e;t(s),function e(t){r.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(s)},[t]),l=n.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,l]}function e$(e,t,r){var a;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,n=(a=Math.max(r?e.indexOf(r):-1,0),e.map((t,r)=>e[(a+r)%e.length]));1===s.length&&(n=n.filter(e=>e!==r));let l=n.find(e=>e.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}eK.displayName="BubbleSelect";var eG=r(8393);let eX=(0,c.Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var eY=r(2933),eJ=r(1175);let eQ=n.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(ed,{ref:s,className:(0,eJ.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(ep,{asChild:!0,children:a.jsx(eG.Z,{className:"h-4 w-4 opacity-50"})})]}));eQ.displayName=ed.displayName;let e0=n.forwardRef(({className:e,...t},r)=>a.jsx(eV,{ref:r,className:(0,eJ.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(eX,{className:"h-4 w-4"})}));e0.displayName=eV.displayName;let e1=n.forwardRef(({className:e,...t},r)=>a.jsx(eq,{ref:r,className:(0,eJ.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(eG.Z,{className:"h-4 w-4"})}));e1.displayName=eq.displayName;let e2=n.forwardRef(({className:e,children:t,position:r="popper",...s},n)=>a.jsx(em,{children:(0,a.jsxs)(eh,{ref:n,className:(0,eJ.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...s,children:[a.jsx(e0,{}),a.jsx(eC,{className:(0,eJ.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(e1,{})]})}));e2.displayName=eh.displayName,n.forwardRef(({className:e,...t},r)=>a.jsx(eR,{ref:r,className:(0,eJ.cn)("px-2 py-1.5 text-sm font-semibold",e),...t})).displayName=eR.displayName;let e6=n.forwardRef(({className:e,children:t,...r},s)=>(0,a.jsxs)(eT,{ref:s,className:(0,eJ.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(eH,{children:a.jsx(eY.Z,{className:"h-4 w-4"})})}),a.jsx(eI,{children:t})]}));e6.displayName=eT.displayName,n.forwardRef(({className:e,...t},r)=>a.jsx(eF,{ref:r,className:(0,eJ.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=eF.displayName;let e4=(0,r(9360).j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function e5({className:e,variant:t,...r}){return a.jsx("div",{className:(0,eJ.cn)(e4({variant:t}),e),...r})}var e3=r(7506),e8=r(4019),e9=r(2133),e7=r(357);function te(){(0,n.useRef)(!1);let[e,t]=(0,n.useState)(!1),[r,s]=(0,n.useState)({}),d=(0,e9.Z)(e=>e.selectedPartner),c=(0,l.K)(e=>e.selectedDate),u=(0,n.useMemo)(()=>c?new Date(c).toISOString().split("T")[0]:"",[c]),p=(0,m._)(e=>e.hostels),f=(0,m._)(e=>e.isLoading);(0,m._)(e=>e.fetchHostels);let[h,g]=(0,n.useState)(""),v=(0,e7.m)(e=>e.fetchPartnerAssignments),b=(0,e7.m)(e=>e.fetchAllAssignments),y=(0,e7.m)(e=>e.addHostelAssignment),w=(0,e7.m)(e=>e.removeHostelAssignment),j=(0,e7.m)(e=>e.isHostelAssigned);(0,e7.m)(e=>e.getPartnerForHostel);let N=(0,e7.m)(e=>e.isLoading),C=(0,e7.m)(e=>e.partnerAssignments),S=(0,e7.m)(e=>e.allAssignments),k=(0,n.useMemo)(()=>d?.id&&u&&C[`${d.id}-${u}`]||[],[C,d?.id,u]),M=(0,n.useMemo)(()=>u&&S[u]||[],[S,u]);(0,n.useMemo)(()=>k.map(e=>e.hostel_id),[k]);let P=(0,n.useMemo)(()=>M.reduce((e,t)=>{let r=t.partner_id,a=t.partner?.name,s=t.partner?.size||0;return r===d?.id?(a=a||d.name,s=s||d.size||0):a=a||"Partner desconocido",e[r]||(e[r]={name:a,size:s,assignments:[]}),e[r].assignments.push(t),e},{}),[M,d]),R=(0,n.useMemo)(()=>k.length>0||Object.keys(P).length>0,[k,P]),E=async()=>{if(!d?.id||!h){x.A.error("Selecciona un albergue para asignar");return}try{t(!0),await y(d.id,h,u),g(""),await b(u),d?.id&&await v(d.id,u)}catch(e){console.error("Error adding hostel:",e),x.A.error(`Error al asignar albergue: ${e.message}`)}finally{t(!1)}},_=async(e,t=!0)=>{try{s(t=>({...t,[e]:!0})),await w(e),await b(u),d?.id&&await v(d.id,u)}catch(e){console.error("Error removing hostel:",e),x.A.error(`Error al eliminar asignaci\xf3n: ${e.message}`)}finally{s(t=>{let r={...t};return delete r[e],r})}},A=(0,n.useMemo)(()=>p.filter(e=>!j(e.id,u)),[p,j,u]);if(!d)return null;let T=N&&0===k.length&&0===Object.keys(P).length;return(0,a.jsxs)(o.Zb,{className:"mb-6",children:[a.jsx(o.Ol,{children:a.jsx(o.ll,{children:"Asignaci\xf3n de Albergues"})}),a.jsx(o.aY,{children:T?(0,a.jsxs)("div",{className:"flex items-center justify-center py-4",children:[a.jsx(e3.Z,{className:"w-6 h-6 animate-spin mr-2"}),a.jsx("span",{children:"Cargando asignaciones..."})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-1 gap-4",children:(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Asignar Nuevo Albergue"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(eo,{value:h,onValueChange:g,disabled:e||f,className:"flex-1",children:[a.jsx(eQ,{children:a.jsx(eu,{placeholder:"Seleccionar albergue"})}),a.jsx(e2,{children:A.length>0?A.map(e=>(0,a.jsxs)(e6,{value:e.id,children:[e.name," (",e.capacity," plazas)"]},e.id)):a.jsx(e6,{value:"none",disabled:!0,children:"No hay albergues disponibles"})})]}),a.jsx(i.z,{onClick:E,disabled:e||!h||0===A.length,className:"whitespace-nowrap",children:e?(0,a.jsxs)(a.Fragment,{children:[a.jsx(e3.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Asignando..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(eY.Z,{className:"mr-2 h-4 w-4"}),"Asignar"]})})]})]})}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium mb-3",children:["Todas las asignaciones de hoy (",u,"):"]}),Object.keys(P).length>0?a.jsx("div",{className:"space-y-4",children:Object.entries(P).map(([e,t])=>(0,a.jsxs)("div",{className:"border rounded-md p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h4",{className:"text-sm font-medium",children:t.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground bg-secondary px-2 py-1 rounded-full",children:[t.size," personas"]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.assignments.map(e=>(0,a.jsxs)(e5,{variant:e.partner_id===d?.id?"default":"outline",className:"py-1 px-2 flex items-center gap-1",children:[a.jsx("span",{children:e.hostel?.name||"Desconocido"}),(0,a.jsxs)("span",{className:"text-xs bg-background text-foreground px-1.5 py-0.5 rounded-full ml-1",children:[e.hostel?.capacity||"?"," plazas"]}),a.jsx(i.z,{variant:"ghost",size:"icon",className:"h-4 w-4 rounded-full ml-1",onClick:()=>_(e.id,e.partner_id===d?.id),disabled:r[e.id],children:r[e.id]?a.jsx(e3.Z,{className:"h-3 w-3 animate-spin"}):a.jsx(e8.Z,{className:"h-3 w-3"})})]},e.id))})]},e))}):a.jsx("div",{className:"text-sm text-muted-foreground",children:R?"Sincronizando asignaciones...":"No hay asignaciones de albergues hoy"})]})]})})]})}function tt(){let[e,t]=(0,n.useState)(null),r=(0,l.K)(e=>e.selectedDate),c=(0,e9.Z)(e=>e.selectedPartner);(0,m._)(e=>e.isLoading);let f=(0,m._)(e=>e.hostels),h=(0,m._)(e=>e.error);return((0,m._)(e=>e.fetchHostels),h)?a.jsx("div",{className:"flex h-full",children:(0,a.jsxs)("div",{className:"p-8 flex-1 flex justify-center text-red-500",children:["Error al cargar albergues: ",h]})}):a.jsx(s.i,{children:a.jsx("div",{className:"flex h-full",children:(0,a.jsxs)("div",{className:"flex-1 p-8 overflow-auto flex flex-col gap-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-4xl font-bold",children:"Albergues"}),(0,a.jsxs)(i.z,{className:"bg-fuchsia-pink-500 hover:bg-fuchsia-pink-600",children:[a.jsx(d.Z,{className:"h-4 w-4 mr-2"}),a.jsx("a",{href:"/albergues/new",children:"Nuevo Albergue"})]})]}),c?a.jsx(a.Fragment,{children:a.jsx(te,{})}):(0,a.jsxs)("div",{className:"p-8 bg-muted/20 rounded-lg flex flex-col items-center justify-center",children:[a.jsx(u,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-medium text-gray-700",children:"No hay grupo seleccionado"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Selecciona o crea un grupo para asignar albergues"})]}),a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Todos los Albergues"}),0===f.length?a.jsx(o.Zb,{className:"p-12",children:a.jsx(k,{icon:a.jsx(p,{className:"w-12 h-12 text-gray-400"}),title:"No hay albergues disponibles",description:"Comienza creando tu primer albergue para gestionar habitaciones y asignaciones.",action:a.jsx(i.z,{asChild:!0,className:"bg-fuchsia-pink-500 hover:bg-fuchsia-pink-600",children:(0,a.jsxs)("a",{href:"/albergues/new",children:[a.jsx(d.Z,{className:"h-4 w-4 mr-2"}),"Crear Albergue"]})})})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(s=>a.jsx(S,{hostel:s,activeHostelId:e,setActiveHostelId:t,date:r},s.id))})]})})})}},1767:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\Faia Facundo\Desktop\Programacion\proyectos_workana\hostel_log-main\src\app\albergues\page.jsx#default`)},3405:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var a=r(7577);function s(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,492,621,92,218],()=>r(8527));module.exports=a})();