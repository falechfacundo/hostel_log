(()=>{var e={};e.id=471,e.ids=[471],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},5315:e=>{"use strict";e.exports=require("path")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},9247:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>n.a,__next_app__:()=>f,originalPathname:()=>u,pages:()=>d,routeModule:()=>b,tree:()=>c}),a(2797),a(6773),a(5866);var t=a(3191),s=a(8716),o=a(7922),n=a.n(o),i=a(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);a.d(r,l);let c=["",{children:["albergues",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2797)),"C:\\Users\\Faia Facundo\\Desktop\\Programacion\\proyectos_workana\\hostel_log-main\\src\\app\\albergues\\new\\page.jsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,6773)),"C:\\Users\\Faia Facundo\\Desktop\\Programacion\\proyectos_workana\\hostel_log-main\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\Faia Facundo\\Desktop\\Programacion\\proyectos_workana\\hostel_log-main\\src\\app\\albergues\\new\\page.jsx"],u="/albergues/new/page",f={require:a,loadChunk:()=>Promise.resolve()},b=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/albergues/new/page",pathname:"/albergues/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9888:(e,r,a)=>{let t={"721ba0f507080d5e5d2fa0817fe34b2e284f36f7":()=>Promise.resolve().then(a.bind(a,7570)).then(e=>e.createPartner),dbf92610f26438a90ecfd4062645c3ead5ee2e29:()=>Promise.resolve().then(a.bind(a,7570)).then(e=>e.fetchPartnersByDate),dc989150d3e40f12b62d32b1d4696ce7e25131ba:()=>Promise.resolve().then(a.bind(a,7570)).then(e=>e.deletePartner),"037b7e861bc6ea420d66cf150cb69da0c518156f":()=>Promise.resolve().then(a.bind(a,1986)).then(e=>e.addHostel),"229fa677a20f148a8603de39dd9331cee94983bf":()=>Promise.resolve().then(a.bind(a,1986)).then(e=>e.fetchHostels),"6dd04356cf656044f11609b065047b9f93a65df9":()=>Promise.resolve().then(a.bind(a,1986)).then(e=>e.updateHostel),f55caeec1617cf79b9f2eb056e11463b8cbb4a02:()=>Promise.resolve().then(a.bind(a,1986)).then(e=>e.deleteHostel)};async function s(e,...r){return(await t[e]()).apply(null,r)}e.exports={"721ba0f507080d5e5d2fa0817fe34b2e284f36f7":s.bind(null,"721ba0f507080d5e5d2fa0817fe34b2e284f36f7"),dbf92610f26438a90ecfd4062645c3ead5ee2e29:s.bind(null,"dbf92610f26438a90ecfd4062645c3ead5ee2e29"),dc989150d3e40f12b62d32b1d4696ce7e25131ba:s.bind(null,"dc989150d3e40f12b62d32b1d4696ce7e25131ba"),"037b7e861bc6ea420d66cf150cb69da0c518156f":s.bind(null,"037b7e861bc6ea420d66cf150cb69da0c518156f"),"229fa677a20f148a8603de39dd9331cee94983bf":s.bind(null,"229fa677a20f148a8603de39dd9331cee94983bf"),"6dd04356cf656044f11609b065047b9f93a65df9":s.bind(null,"6dd04356cf656044f11609b065047b9f93a65df9"),f55caeec1617cf79b9f2eb056e11463b8cbb4a02:s.bind(null,"f55caeec1617cf79b9f2eb056e11463b8cbb4a02")}},8629:(e,r,a)=>{Promise.resolve().then(a.bind(a,4043))},4043:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>f});var t=a(326);a(7998);var s=a(809),o=a(1561),n=a(5188),i=a(7115),l=a(7577),c=a(5047),d=a(4389),u=a(5999);function f(){let e=(0,c.useRouter)(),r=(0,d._)(e=>e.addHostel),[a,f]=(0,l.useState)({name:"",capacity:0}),[b,p]=(0,l.useState)(!1),h=async t=>{if(t.preventDefault(),!a.name){u.A.error("Por favor complete todos los campos requeridos");return}let s=parseInt(a.capacity);if(isNaN(s)||s<1){u.A.error("La capacidad debe ser un n\xfamero positivo");return}p(!0);try{await r({...a,capacity:s}),e.push("/albergues")}catch(e){u.A.error("Error al crear el albergue"),console.error(e)}finally{p(!1)}};return t.jsx("div",{children:(0,t.jsxs)("div",{className:"p-8",children:[t.jsx("h1",{className:"text-4xl font-bold text-fuchsia-pink-900 mb-8",children:"Nuevo Albergue"}),t.jsx(s.Zb,{className:"max-w-2xl mx-auto p-6",children:(0,t.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(i._,{htmlFor:"name",children:"Nombre del Albergue"}),t.jsx(n.I,{id:"name",value:a.name,onChange:e=>f({...a,name:e.target.value}),required:!0,disabled:b})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(i._,{htmlFor:"capacity",children:"Capacidad (plazas)"}),t.jsx(n.I,{id:"capacity",type:"number",min:"1",value:a.capacity,onChange:e=>f({...a,capacity:e.target.value}),required:!0,disabled:b})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[t.jsx(o.z,{type:"button",variant:"outline",onClick:()=>e.push("/albergues"),disabled:b,children:"Cancelar"}),t.jsx(o.z,{type:"submit",className:"bg-fuchsia-pink-500 hover:bg-fuchsia-pink-600",disabled:b,children:b?"Creando...":"Crear Albergue"})]})]})})]})})}},809:(e,r,a)=>{"use strict";a.d(r,{Ol:()=>i,SZ:()=>c,Zb:()=>n,aY:()=>d,eW:()=>u,ll:()=>l});var t=a(326),s=a(7577),o=a(1175);let n=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...r}));n.displayName="Card";let i=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...r}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,o.cn)("font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let c=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...r}));c.displayName="CardDescription";let d=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,o.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent";let u=s.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,o.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},4389:(e,r,a)=>{"use strict";a.d(r,{_:()=>d});var t=a(8408),s=a(5999);a(5424);var o=a(6242),n=(0,o.$)("f55caeec1617cf79b9f2eb056e11463b8cbb4a02"),i=(0,o.$)("229fa677a20f148a8603de39dd9331cee94983bf"),l=(0,o.$)("037b7e861bc6ea420d66cf150cb69da0c518156f"),c=(0,o.$)("6dd04356cf656044f11609b065047b9f93a65df9");let d=(0,t.U)((e,r)=>({hostels:[],isLoading:!1,error:null,fetchHostels:async()=>{try{e({isLoading:!0,error:null});let r=await i();if(r.error)throw Error(r.error);return e({hostels:r.hostels||[],isLoading:!1}),r.hostels||[]}catch(r){throw console.error("Error in fetchHostels:",r),e({error:r.message,isLoading:!1}),s.A.error(`Error al cargar albergues: ${r.message}`),r}},addHostel:async r=>{try{e({isLoading:!0,error:null});let a=await l(r);if(a.error)throw Error(a.error);return e(e=>({hostels:[...e.hostels,a.hostel],isLoading:!1})),s.A.success(`Albergue "${r.name}" creado correctamente`),a.hostel}catch(r){throw console.error("Error in addHostel:",r),e({error:r.message,isLoading:!1}),s.A.error(`Error al crear albergue: ${r.message}`),r}},updateHostel:async(r,a)=>{try{e({isLoading:!0,error:null});let t=await c(r,a);if(t.error)throw Error(t.error);return e(e=>({hostels:e.hostels.map(e=>e.id===r?t.hostel:e),isLoading:!1})),s.A.success("Albergue actualizado correctamente"),t.hostel}catch(r){throw console.error("Error in updateHostel:",r),e({error:r.message,isLoading:!1}),s.A.error(`Error al actualizar albergue: ${r.message}`),r}},deleteHostel:async a=>{try{e({isLoading:!0,error:null});let t=r().hostels.find(e=>e.id===a);if(!t)throw Error("Hostel not found");let o=await n(a);if(o.error)throw Error(o.error);return e(e=>({hostels:e.hostels.filter(e=>e.id!==a),isLoading:!1})),s.A.success(`Albergue "${t.name}" eliminado correctamente`),{id:a}}catch(r){throw console.error("Error in deleteHostel:",r),e({error:r.message,isLoading:!1}),s.A.error(`Error al eliminar albergue: ${r.message}`),r}},getHostelById:e=>r().hostels.find(r=>r.id===e)||null,resetError:()=>e({error:null})}))},1986:(e,r,a)=>{"use strict";a.r(r),a.d(r,{addHostel:()=>n,deleteHostel:()=>l,fetchHostels:()=>o,updateHostel:()=>i});var t=a(7745);a(6461);var s=a(2177);async function o(){return(0,s.xO)(async e=>{try{return{hostels:await (0,s.qJ)(e,"hostels",{columns:"*, rooms(*)",order:{column:"name"}})||[],status:200}}catch(e){throw console.error("Error in fetchHostels server action:",e),e}})}async function n(e){return withAuth(async(e,r)=>{try{return{hostel:{...await (0,s.hE)(e,"hostels",r),rooms:[]},status:200}}catch(e){throw console.error("Error in addHostel server action:",e),e}},e)}async function i(e,r){return withAuth(async(e,r,a)=>{try{return{hostel:await (0,s.aM)(e,"hostels",a,{id:r},{single:!0}),status:200}}catch(e){throw console.error("Error in updateHostel server action:",e),e}},e,r)}async function l(e){return withAuth(async(e,r)=>{try{return await (0,s.ZI)(e,"hostels",{id:r}),{id:r,success:!0,status:200}}catch(e){throw console.error("Error in deleteHostel server action:",e),e}},e)}(0,a(8387).h)([o,n,i,l]),(0,t.j)("229fa677a20f148a8603de39dd9331cee94983bf",o),(0,t.j)("037b7e861bc6ea420d66cf150cb69da0c518156f",n),(0,t.j)("6dd04356cf656044f11609b065047b9f93a65df9",i),(0,t.j)("f55caeec1617cf79b9f2eb056e11463b8cbb4a02",l)},2797:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t});let t=(0,a(8570).createProxy)(String.raw`C:\Users\Faia Facundo\Desktop\Programacion\proyectos_workana\hostel_log-main\src\app\albergues\new\page.jsx#default`)},3881:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>s});var t=a(6621);let s=e=>[{type:"image/x-icon",sizes:"256x181",url:(0,t.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[948,492,621,92],()=>a(9247));module.exports=t})();